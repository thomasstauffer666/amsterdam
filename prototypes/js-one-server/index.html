<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>js-one-server</title>
<script src="test.js"></script>
<script>

'use strict';

function send(message) {
	console.log(message);
}

update();

function input(event) {
	const e = {'key': event.key, 'type': event.type === 'keydown' ? 'down' : 'up'};
	handleInput(JSON.stringify(e));
}

document.addEventListener('keydown', input);
document.addEventListener('keyup', input);


function diff(a, b) {
	const len = a.length;
	let result = [];
	for(let i = 0; i < len; i += 1) {
		if(a[i] !== b[i]) {
			result.push(0);
		}
	}
}


function main() {
	/*
	const N = 1024 * 1024;
	const a = new Uint8Array(N);
	const b = new Uint8Array(N);

	for(let i = 0; i < 10; i += 1) {
		const t1 = performance.now();
		diff(a, b);
		const t2 = performance.now();
		console.log(t2 - t1);
	}
	*/
}

window.onload = main;

</script>
<style>
body {
	font-family: Ubuntu;
}
</style>
</head>
<body>
</body>
</html>