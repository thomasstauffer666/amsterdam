<html>
<head>
<meta charset="utf-8"/>
<title>engine</title>
<script type="text/javascript" src="../js-module/functions.js"></script>
<script type="text/javascript" src="../js-module/engine.js"></script>
<script type="text/javascript" src="../js-module/myp.js"></script>
<script type="module">

'use strict';

async function main() {
	await sleep(500);
	document.getElementById('p1').setAttribute('text', 'updated from js');
	await sleep(500);
	document.getElementById('blocks1').setAttribute('nrs', '1 1 1 2 2 2 3 3 3');
	await sleep(500);
	for(let i = 0; i < 1000; i += 1) {
		const n = i % 50;
		document.getElementById('image1').setAttribute('x', n);
		document.getElementById('image1').setAttribute('y', n);
		await sleep(50);
	}
}

window.onload = main;

</script>
<style>
body {
	font-family: Ubuntu;
}
</style>
</head>
<body>

<a-engine id="engine" camera-x="8" camera-y="8" debug>
	<a-image nr="0" src="../asset/block-16x16/air.png"></a-image>
	<a-image nr="1" src="../asset/block-16x16/cave.png"></a-image>
	<a-image nr="2" src="../asset/block-16x16/dirt.png"></a-image>
	<a-image nr="3" src="../asset/block-16x16/grass.png"></a-image>

	<a-image nr="100" src="../asset/image/frame-red.png"></a-image>

	<a-layer-blocks id="blocks1" blocksize="16" width="3" height="3" nrs="0 1 2  3 0 1  2 3 0"></a-layer-blocks>

	<a-layer-image id="image1" x="0" y="0" nr="100"></a-layer-image>
	<a-layer-image id="image2" x="100" y="100" nr="100"></a-layer-image>
</a-engine>

<my-p id="p1" text="initial 1"></my-p>
<my-p id="p2" text="initial 2"></my-p>

</body>
</html>
